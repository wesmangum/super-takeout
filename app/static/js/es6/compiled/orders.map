{"version":3,"file":"orders.js","sources":["/Users/wesmangum/Documents/Code/super-takeout/app/static/js/es6/orders.es6.js"],"names":[],"mappings":"AAGA,CAAC,SAAU;AACT,CAAA,aAAY,CAAC;AAEb,CAAA,EAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;CAExB,SAAS,KAAI,CAAC,CAAE;AACd,CAAA,IAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAO,CAAE,QAAO,CAAC,CAAC;AAC1C,CAAA,IAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAE,cAAa,CAAE,UAAS,CAAC,CAAC;AAElD,CAAA,IAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAE,QAAO,CAAE,WAAU,CAAC,CAAC;AAC9C,CAAA,IAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAE,QAAO,CAAE,WAAU,CAAC,CAAC;AAC5C,CAAA,IAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAE,QAAO,CAAE,WAAU,CAAC,CAAC;AAE9C,CAAA,IAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;GACzB;AAED,CAFC,SAEQ,QAAO,CAAC;;AACX,CAAJ,MAAI,CAAA,IAAI,EAAG,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;AACzB,CAAA,OAAI,EAAC,UAAW,EAAA,KAAI,EAAI,MAAK,CAAE,KAAI,YAAE,QAAQ,CAAE;AAC7C,CAAA,MAAC,MAAM,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;KACzC,EAAC,CAAC;GACJ;CAED,SAAS,OAAM,CAAC,CAAE;AACZ,CAAJ,MAAI,CAAA,IAAI,EAAG,CAAA,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;AACjD,CAAA,IAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GAC1B;AAED,CAFC,SAEQ,UAAS,CAAC,CAAC,CAAE;CAEpB,OAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAG,EAAC,CAAE;AACrC,CAAA,MAAC,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,CAAC;KAC3B;AACD,CADC,IACA,eAAe,EAAE,CAAC;AACnB,CAAA,aAAU,EAAE,CAAC;GACd;AAED,CAFC,SAEQ,WAAU,CAAC,CAAE;AAChB,CAAJ,MAAI,CAAA,KAAK,EAAG,EAAC,CAAC;AACV,CAAJ,MAAI,CAAA,KAAK,EAAG,CAAA,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE,CAAC;AAE7C,CAAA,QAAK,QAAQ,CAAC,SAAS,IAAI,CAAE;AACvB,CAAJ,QAAI,CAAA,IAAI,EAAG,CAAA,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA,CAAG,EAAC,CAAC;AACzE,CAAJ,QAAI,CAAA,QAAQ,EAAG,CAAA,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,CAAA,CAAG,EAAC,CAAC;CAEnD,SAAI,IAAI,GAAI,CAAA,QAAQ,EAAG,EAAC,CAAE;AACxB,CAAA,YAAK,GAAI,EAAC,IAAI,EAAG,SAAQ,CAAC,CAAC;OAC5B;CAAA,IACF,CAAC,CAAC;AAEH,CAAA,QAAK,EAAG,CAAA,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC;AAEzB,CAAA,IAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAC,UAAW,EAAA,MAAK,EAAG,CAAC;GAChD;CAAA,AACF,CAAC,EAAE,CAAC","sourcesContent":["/* global ajax */\n/* jshint unused:false */\n\n(function () {\n  'use strict';\n\n  $(document).ready(init);\n\n  function init() {\n    $('#order').on('change','.menu', getMenu);\n    $('#order').on('click', '.delete-row', deleteRow);\n\n    $('#order').on('change', 'input', changeText);\n    $('#order').on('blur', 'input', changeText);\n    $('#order').on('change', '.dish', changeText);\n\n    $('#add').click(addRow);\n  }\n\n  function getMenu() {\n    var menu = $(this).val();\n    ajax(`/dishes/${menu}`, 'get', null, response=>{\n      $(this).next().empty().append(response);\n    });\n  }\n\n  function addRow() {\n    var form = $('#order').children(':last').clone();\n    $('#order').append(form);\n  }\n\n  function deleteRow(e) {\n\n    if ($('#order').children().length > 2) {\n      $(this).parent().remove();\n    }\n    e.preventDefault();\n    changeText();\n  }\n\n  function changeText() {\n    var total = 0;\n    var items = $('#order').children().toArray();\n\n    items.forEach(function(item) {\n      var cost = $(item).children('.dish').find(':selected').attr('data-cost') * 1;\n      var quantity = $(item).children('input').val() * 1;\n\n      if (cost && quantity > 0) {\n        total += (cost * quantity);\n      }\n    });\n\n    total = total.toFixed(2);\n\n    $('#total').empty().append(`Total: $${total}`);\n  }\n})();\n"]}